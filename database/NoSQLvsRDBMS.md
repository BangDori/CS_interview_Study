# NoSQL이 기존 RDBMS와 다른점이 무엇이고 어떤 상황에 NoSQL을 쓰는 것이 더 적합한지 설명해주세요.

- **자료 조사**
    
    NoSQL과 기존 RDBMS의 차이점에 대해 설명하기 전에 우선 NoSQL과 RDBMS에 대해 살펴보자.
    
    - **SQL vs NoSQL**
        
        ![[그림 1] SQL vs NoSQL](https://github.com/BangDori/CS_interview_Study/blob/main/database/img/SQLvsNoSQL.png)
        
        - **SQL**
            
            SQL(Structured Query Language)은 데이터베이스 관리 시스템(RDBMS)에서 사용 되는 표준 질의 언어로, SQL을 사용하여 데이터베이스에 데이터를 검색, 삽입, 수정 및 삭제를 쉽게 할 수 있도록 도와주는 역할을 합니다.
            
            SQL은 특정 데이터베이스 관리 시스템에 종속되지 않는 표준 언어이기에, 대부분의 RDBMS에서 SQL을 사용할 수 있으며, 일반적으로 다양한 프로그래밍 언어와 함께 사용됩니다.
            
            ```sql
            // 나이가 20 이상인 멤버의 이름과 나이
            
            SELECT name, age
            FROM members
            WHERE age >= 20
            ```
            
            SQL은 SELECT, INSERT, UPDATE, DELETE와 같은 기본적인 명령어를 포함하여, JOIN, GROUP BY, ORDER BY와 같은 고급 명령어를 사용하여 데이터를 필터링하고 정렬하고 집계할 수 있습니다.
            
        
        SQL은 다음과 같은 장점을 가집니다.
        
        - **SQL의 장점과 단점**
            
            **장점**
            
            1. 간편한 질의 언어: SQL은 직관적이고 간편한 문법을 가지고 있으며, 데이터베이스에서 데이터를 검색하고 조작하기 쉽습니다.
            2. 포괄적인 표준: SQL은 ANSI/ISO 표준에 따라 개발되어, 대부분의 데이터베이스 관리 시스템에서 지원됩니다.
            3. 유연한 데이터 조작: SQL은 데이터의 삽입, 업데이트, 삭제 검색 등 다양한 조작이 가능합니다.
            4. 높은 보안성
            5. 대용량 데이터 처리 가능
            
            **단점**
            
            1. 높은 학습 곡선: 복잡한 쿼리 작성시에는 많은 경험이 필요
            2. 대규모 데이터 처리에 한계: SQL은 대용량 데이터 처리를 지원하지만, NoSQL과 같은 다른 기술과 비교하면 처리 속도에서 한계가 있을 수 있다.
            3. 대용량 분산 처리에 취약: SQL은 분산 데이터를 지원하지 않기 때문에, 대용량 분산 데이터 처리에는 적합하지 않을 수 있다.
            4. 데이터 구조 변경이 어려울 수 있음: SQL은 데이터 구조 변경에 따른 추가적인 작업이 필요할 수 있습니다.
        
        실제로, SQL은 많은 장점을 가지고 있는데, 그렇다면 NoSQL이 선호되는 이유가 무엇일까요?
        
        현대 SNS를 생각해보면, NoSQL이 선호되는 이유를 쉽게 파악할 수 있습니다. 처음 웹이 탄생했을 때를 거슬러 올라가보겠습니다.
        
        - **웹 1.0과 웹 2.0**
            
            웹이 탄생한 1990년부터 웹 2.0이 유행하기 전인 약 2004년까지의 구간을 웹 1.0이라고 부르고 있습니다.
            
            웹 1.0 시대에는 대부분의 유저들은 정보를 단순히 소비하기만 했습니다. 유저들에게 웹은 뉴스, 논문 등 궁금한 키워드를 찾아서 읽거나 원하는 물건을 구매하는 공간 정도였고 정보 공급자와 소비자의 역할 역시 엄격히 구분되었죠. 따라서 이 당시의 웹은 **읽기 전용(Read Only)**의 기능이 가장 컸습니다.
            
            하지만, 2004년 전후로 페이스북과 유튜브와 같은 플랫폼 서비스들이 등장하며 웹 시장은 큰 변화를 맞이하게 되었습니다.
            
            가장 큰 차이점은 단방향으로만 소통이 이루어지던 웹 1.0과는 달리 **양방향 소통이 가능했다는 점**입니다.
            
            실제로 페이스북과 유튜브의 경우 유저들은 게시글을 읽는 소비자임과 동시에 글을 작성해 올릴 수 있는 생산자 또한 될 수 있게 되었습니다. 이처럼 기존의 웹이 갖고 있던 기능인 읽기(Read)에 쓰기(Write)의 개념이 웹 2.0부터 추가되었습니다.
            
            ![[그림 2] 2010-2025년 전 세계 데이터 생성 및 캡처, 복제, 소비량 변화](https://github.com/BangDori/CS_interview_Study/blob/main/database/img/Graph.jpg)
                        
            위 사진은 웹 2.0이 도입된 이후의 데이터 생성 및 캡처, 복제, 소비량 변화에 대한 그래프입니다. 실제로 데이터가 급격하게 증가하게 되었고, 기존에 데이터들을 처리하고, 조작하였던 SQL은 대용량 데이터 처리에 한계가 생기기 시작하였습니다.
            
        
        그래서 대용량의 데이터를 처리하기 위해 인기를 끌게 된 것은 NoSQL이였습니다. 그렇다면 NoSQL은 무엇일까요?
        
        - **NoSQL**
            
            NoSQL은 “Not Only SQL”의 약어로, 관계형 데이터베이스가 가지는 테이블 간 관계, 스키마, ACID 트랜잭션 등의 제약 조건을 가지지 않는 비관계형 데이터베이스입니다.
            
            ```jsx
            // 나이가 20 이상인 멤버의 이름과 나이
            
            db.members.find(
            	{ age: { $gte: 20 } }, // $gte: Greater Than or Equal To(이상) 연산자
            	{ name: 1, age: 1, _id: 0 } // 1은 해당 필드를 보여줄 것이라는 의미
            )
            ```
            
            기존 SQL의 제약조건이 NoSQL에는 존재하지 않기 때문에 데이터 모델링이 자유로워지며, 데이터 추가 및 수정이 용이하고 또한 대용량 데이터 처리 및 분산 시스템에서의 성능이 우수하다는 장점이 존재합니다.
            
            하지만, NoSQL은 기존 SQL의 제약조건인 데이터간의 연결성과 일관성 유지, ACID 트랜잭션 등과 같은 관계형 데이터베이스가 가지는 중요한 특징을 가지지 않기 때문에, 일부 사용처에서는 적합하지 않을 수 있습니다. 또한 NoSQL 데이터베이스는 SQL에 비해 명확하게 표준화되어 있지 않기 때문에, 데이터 검색 및 분석 등의 작업에 어려움을 겪을 수 있습니다.
            
        
        > *NoSQL은 대규모 비정형 데이터 처리와 분산 시스템에서 우수한 성능을 보이지만, NoSQL을 사용할 경우 데이터 모델링이 복잡해질 수 있으며, 일부 데이터 요구 사항을 처리하기 위해 개발자가 데이터 처리를 직접 구현해야 하는 경우도 존재하기 때문에 데이터 요구 사항에 따라 적절한 데이터베이스 시스템을 선택하는 것이 중요합니다.*
        > 
    - **SQL과 NoSQL 데이터베이스의 종류**
        - **SQL 데이터베이스**
            1. MySQL: 오픈 소스 관계형 데이터베이스 관리 시스템(RDBMS)입니다. 대규모 웹 응용 프로그램에 많이 사용됩니다.
            2. Oracle: 세계적인 규모의 RDBMS입니다. 대규모 기업 시스템에 많이 사용됩니다.
            3. SQL Server: 마이크로소프트에서 개발한 RDBMS입니다. 윈도우 운영체제에서 가장 많이 사용됩니다.
            4. PostgreSQL: 오픈 소스 RDBMS입니다. 트랜잭션 처리, 데이터 무결성, 복구 등의 기능이 강화된 MySQL 대안으로 자리 잡고 있습니다.
            5. SQLite: 경량 파일 기반의 RDBMS입니다. 단일 파일에 데이터베이스를 저장하며, 모바일 애플리케이션에서 널리 사용됩니다.
        - **NoSQL 데이터베이스**
            1. MongoDB: JSON 기반의 문서 데이터베이스입니다. 높은 가용성과 확장성을 제공합니다.
            2. Cassandra: 컬럼 기반의 NoSQL 데이터베이스입니다. 대용량 분산 데이터 처리에 적합합니다.
            3. Redis: 메모리 기반의 키-값 저장소입니다. 높은 성능을 제공하며, 캐시나 세션 관리 등에 많이 사용됩니다.
            4. Couchbase: 멀티 모델 NoSQL 데이터베이스입니다. JSON, 키-값, 컬럼, 그래프 등 다양한 모델을 지원합니다.
            5. Amazon DynamoDB: 아마존에서 제공하는 서버리스 NoSQL 데이터베이스입니다. 초당 수십만 건의 요청을 처리할 수 있습니다.
    - **RDBMS**
        
        DBMS란 DataBase Management System의 약어로, 사용자와 데이터베이스 사이에서 사용자의 요구에 따라 정보를 생성해 주고 데이터베이스를 관리해 주는 소프트웨어입니다.
        
        그렇다면, RDBMS는 무엇일까요?
        
        간단하게 “Relational”이 붙은 RDBMS는 Relational DataBase Management System의 약어로, 관계형 데이터베이스 관리 시스템을 의미합니다. 이름과 같이 RDBMS는 RDB를 관리하는 시스템이며 RDB는 관계형 데이터 모델을 기초로 두고 모든 데이터를 2차원 테이블 형태로 표현하는 데이터베이스입니다.
        
        RDBMS는 아래와 같이 구성된 테이블이 다른 테이블과 관계를 맺고 모여있는 집합체로 이해할 수 있습니다. RDBMS에서는 이러한 관계를 나타내기 위해 외래 키(foreign key)를 사용합니다. 이러한 테이블간의 관계에서 외래 키를 이용한 테이블 간 Join이 가능하다는 게 RDBMS의 가장 큰 특징입니다.
        
        ![[그림 3] 회원과 주문 테이블](https://github.com/BangDori/CS_interview_Study/blob/main/database/img/table.png)
        
        - **NoSQL은 외래키가 없나요?**
            
            일반적으로 NoSQL은 관계형 데이터베이스에서처럼 외래키를 사용하지 않고 “참조”라고 불리는 문서내에 필드로 다른 문서의 ID 값을 저장하는 방식을 사용합니다. 예를 들어 MongoDB에서는 **`$lookup`** 파이프라인을 사용하여 다른 컬렉션에서 문서를 가져와 조인을 수행할 수 있습니다.
            
    - **RDBMS와 NoSQL의 장단점**
        
        ### RDBMS
        
        **장점**
        
        - 정해진 스키마에 따라 데이터를 저장하여야 하므로 명확한 데이터 구조를 보장합니다.
        - 각 데이터를 중복없이 한 번만 저장할 수 있습니다.
        
        **단점**
        
        - 테이블간 관계를 맺고 있어 시스템이 커질 경우 JOIN문이 많은 복잡한 쿼리가 만들어질 수 있습니다.
        - 성능 향상을 위해서는 서버의 성능을 향상 시켜야하는 Scale-up만을 지원하기 때문에 비용이 기하급수적으로 늘어날 수 있습니다.
        - 스키마의 제한으로 인해 데이터가 유연하지 않습니다.
        
        ### NoSQL
        
        **장점**
        
        - NoSQL에서는 스키마가 없기 때문에 유연하며 자유로운 데이터 구조를 가질 수 있습니다.
        - 언제든 저장된 데이터를 조정하고 새로운 필드를 추가할 수 있습니다.
        - 데이터 분산이 용이하며 성능 향상을 위한 Scale-up 뿐만이 아닌 Scale-out 또한 가능합니다.
        
        **단점**
        
        - 데이터 중복이 발생할 수 있으며 중복된 데이터가 변경될 경우 모든 컬렉션에서 수정해야 합니다.
        - 스키마가 존재하지 않기 때문에 명확한 데이터 구조를 보장하지 않습니다.
- **답안**
    
    NoSQL과 관계형 데이터베이스(RDBMS)의 가장 큰 차이점은 데이터 모델입니다. RDBMS는 데이터를 테이블(tabel)로 구성하고, 각 테이블은 관계(Relation)를 통해 연결됩니다. 반면 NoSQL은 다양한 데이터 모델을 사용하며, 주로 컬렉션(Collection) 또는 문서(document)로 데이터를 구성하기 때문에 데이터 형식에 대한 제약이 적어 NoSQL은 유연한 스키마, 높은 확장성 및 가용성을 가집니다.
    
    그렇기 때문에 만약, 데이터 모델이 자주 변경되거나, 데이터의 형식이나 구조가 복잡한 경우 혹은 대용량 데이터를 처리하고 분산 저장이 필요한 구조라면 RDBMS 보다 NoSQL을 사용하는 것이 더 적합하다고 할 수 있습니다.
    
    하지만 NoSQL은 RDBMS와는 다른 데이터 모델과 쿼리 언어를 가지고 있기 때문에 기존 RDBMS에 비해 학습 곡선이 높을 수 있으며, 또한 NoSQL 데이터베이스에서는 ACID 트랜잭션을 보장하지 않기 때문에, 데이터 일관성이나 무결성이 더욱 중요한 경우라면 RDBMS를 사용하는 것이 더 적합하다고 할 수 있습니다.
    
- **참고 자료**
    - [https://www.datanet.co.kr/news/articleView.html?idxno=166457](https://www.datanet.co.kr/news/articleView.html?idxno=166457)
    - [https://khj93.tistory.com/entry/Database-RDBMS와-NOSQL-차이점](https://khj93.tistory.com/entry/Database-RDBMS%EC%99%80-NOSQL-%EC%B0%A8%EC%9D%B4%EC%A0%90)
